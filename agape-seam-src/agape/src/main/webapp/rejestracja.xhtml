<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	template="themes/standard/template2.xhtml">

	<ui:define name="body">

		<h:form id="osobaForm">

			<rich:panel>
				<f:facet name="header"> Rejestracja nowego użytkownika </f:facet>
				<p>Poniżej znajduje się formularz rejestracji nowego
					użytkownika. Wymagane pola zostały oznaczone gwiazdką. Pozostałe
					pola możesz wypełnić teraz lub po założeniu konta w zakładce edycja
					danych konta.</p>



				<h:panelGrid columns="1" rowClasses="prop"
					columnClasses="name,value">


					<s:decorate id="mailField" template="layout/edit.xhtml">
						<ui:define name="label">Email</ui:define>
						<h:inputText id="mail" required="true"
							value="#{rejestracja.osoba.email}" >
							<f:validator validatorId="uniqueEmailValidator"/>
							<!--						<a4j:support event="onblur" reRender="mailField" bypassUpdates="true" ajaxSingle="true"/>-->
						</h:inputText>
					</s:decorate>

					<s:decorate id="hasloField" template="layout/edit.xhtml">
						<ui:define name="label">Hasło</ui:define>
						<h:inputSecret id="haslo" required="true"
							value="#{rejestracja.osoba.haslo}">
						</h:inputSecret>
					</s:decorate>
					
					<s:decorate id="haslo2Field" template="layout/edit.xhtml">
						<ui:define name="label">Powtórz hasło</ui:define>
						<h:inputSecret id="haslo2" required="true"
							value="#{rejestracja.osoba.haslo}"
							validator="#{passwordValidator.validate}">
							<f:attribute name="passId" value="osobaForm:hasloField:haslo"/>
							
							<!--						<a4j:support event="onblur" reRender="haslo2Field" bypassUpdates="true" ajaxSingle="true"/>-->
						</h:inputSecret>
					</s:decorate>


					<s:decorate id="imieField" template="layout/edit.xhtml">
						<ui:define name="label">Imię</ui:define>
						<h:inputText id="imie" required="true"
							value="#{rejestracja.osoba.imie}">
							<!--						<a4j:support event="onblur" reRender="imieField" bypassUpdates="true" ajaxSingle="true"/>-->
						</h:inputText>
					</s:decorate>

					<s:decorate id="nazwiskoField" template="layout/edit.xhtml">
						<ui:define name="label">Nazwisko</ui:define>
						<h:inputText id="nazwisko" value="#{rejestracja.osoba.nazwisko}">
							<!--						<a4j:support event="onblur" reRender="nazwiskoField" bypassUpdates="true" ajaxSingle="true"/>-->
						</h:inputText>
					</s:decorate>



					<s:decorate id="dataUrField" template="layout/edit.xhtml">
						<ui:define name="label">Data urodzenia</ui:define>
						<rich:calendar id="dataUr" required="true"
							enableManualInput="true" value="#{rejestracja.osoba.dataUr}"
							datePattern="yyyy-MM-dd">
						</rich:calendar>
					</s:decorate>



					<s:decorate id="wojewodztwoField" template="layout/edit.xhtml">
						<ui:define name="label">Województwo</ui:define>
						<h:selectOneMenu id="wojewodztwoField" required="true"
							value="#{rejestracja.osoba.wojewodztwo}">
							<s:selectItems value="#{wojewodztwaList.listaWoj}" var="_woj"
								label="#{_woj}" itemValue="#{_woj}"
								noSelectionLabel="--wybierz--" />

						</h:selectOneMenu>
					</s:decorate>



					<s:decorate id="adresField" template="layout/edit.xhtml">
						<ui:define name="label">Adres</ui:define>
						<h:inputText id="adres" value="#{rejestracja.osoba.adres}">
							<!--						<a4j:support event="onblur" reRender="adresField" bypassUpdates="true" ajaxSingle="true"/>-->
						</h:inputText>
					</s:decorate>




					<s:decorate id="wyznanieField" template="layout/edit.xhtml">
						<ui:define name="label">Wyznanie</ui:define>
						<h:inputText id="wyznanie" value="#{rejestracja.osoba.nazwisko}">
							<!--						<a4j:support event="onblur" reRender="wyznanieField" bypassUpdates="true" ajaxSingle="true"/>-->
						</h:inputText>
					</s:decorate>





					<s:decorate id="wspolnotaField" template="layout/edit.xhtml">
						<ui:define name="label">Wspólnota</ui:define>
						<h:inputText id="wspolnota" value="#{rejestracja.osoba.wspolnota}">
							<!--						<a4j:support event="onblur" reRender="wspolnotaField" bypassUpdates="true" ajaxSingle="true"/>-->
						</h:inputText>
					</s:decorate>


				</h:panelGrid>


				<div style="clear: both" />
				<div class="actionButtons">
					<h:commandButton id="save" value="Zapisz"
						action="#{rejestracja.zapisz}" />

				</div>
			</rich:panel>


		</h:form>

	</ui:define>

</ui:composition>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	template="/themes/standard/template2.xhtml">

	<ui:define name="body">

		<h:form id="osobaForm">
			<h:messages />
			<rich:panel>
				<h:outputText
					value="Witaj w lekcji nr #{lekcjaBrowser.lekcja.nrLekcji}" />
			</rich:panel>

			<h:panelGrid columns="2">
				<h:outputLabel value="Wprowadzenie" />
				<h:outputText value="#{lekcjaBrowser.lekcja.wprowadzenie}" />
			</h:panelGrid>

			<br />

			<rich:dataGrid value="#{lekcjaBrowser.pytaniaOdp}" var="_po"
				columns="1" id="grid" elements="#{lekcjaBrowser.pytaniaOdp.size()}">


				<h:panelGrid columns="1">
					<h:outputText
						value="#{_po.pytanie.nrPytanie}.  #{_po.pytanie.tresc}" />

					<h:inputTextarea cols="80" rows="6" value="#{_po.odpowiedz.tresc}" readonly="#{lekcjaBrowser.czyWyslano}"/>


				</h:panelGrid>



			</rich:dataGrid>
			<br />
			
			<h:panelGrid columns="1" rendered="#{s:hasRole('COORDINATOR') || s:hasRole('TEACHER') || lekcjaBrowser.czySprawdzono}">
					<h:outputText
						value="Komentarz:"/>

					<h:inputTextarea cols="80" rows="6" value="#{lekcjaBrowser.stan.komentarz}" readonly="#{lekcjaBrowser.czySprawdzono}"/>


				</h:panelGrid>
			
			
			<h:panelGrid columns="2">
				<a4j:commandButton value="Zapisz" action="#{lekcjaBrowser.zapisz()}"
					disabled="#{lekcjaBrowser.czyWyslano}"
					reRender="osobaForm"
					rendered="#{s:hasRole('STUDENT')}">
					<rich:toolTip value="Zapisz bez wysłania rozwiązania"></rich:toolTip>
				</a4j:commandButton>
				<a4j:commandButton value="Wyślij rozwiązanie" action="#{lekcjaBrowser.wyslij()}"
					disabled="#{lekcjaBrowser.czyWyslano}"
					reRender="osobaForm"
					rendered="#{s:hasRole('STUDENT')}">
					<rich:toolTip value="Zapisz i wyślij rozwiązanie do sprawdzenia"></rich:toolTip>
				</a4j:commandButton>
				
		 		<a4j:commandButton value="Zapisz lekcję jako sprawdzoną" action="#{lekcjaBrowser.sprawdz()}"
					disabled="#{lekcjaBrowser.czySprawdzono}"
					reRender="osobaForm"
					rendered="#{s:hasRole('COORDINATOR') || s:hasRole('TEACHER')}">
					<rich:toolTip value="Zapisz i wyślij rozwiązanie do sprawdzenia"></rich:toolTip>
				</a4j:commandButton>
				
			</h:panelGrid>





		</h:form>

	</ui:define>

</ui:composition>